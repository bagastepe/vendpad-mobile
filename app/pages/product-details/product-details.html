<!--
  Generated template for the ProductDetailsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar primary>
    <ion-title>{{product.name}}</ion-title>
    <ion-buttons end>
      <button (click)="gotoCart()">
        <ion-icon name='cart'></ion-icon>
        <div class="total" *ngIf="totalCart&&totalCart>0">{{totalCart}}</div>
      </button>
    </ion-buttons>
  </ion-navbar>
  

</ion-header>


<ion-content padding>
  <ion-img [src]="product.photo" alt="" *ngIf="!varian"></ion-img>
  <ion-img [src]="varian.photo" alt="" *ngIf="varian">  </ion-img>
  <div class="box">
    <ion-spinner *ngIf="varian"></ion-spinner>
  </div>
  
  <ion-list no-lines>
    <ion-item>
      <h2>Deskripsi Produk</h2>
      <p>{{product.description}}</p>
    </ion-item>
  </ion-list>
  <ion-list radio-group [(ngModel)]="varian">
    <ion-list-header>Varian</ion-list-header>
    <ion-item>
      <ion-label>{{product.varian[0].value}} <ion-badge class="price-varian"> Rp.{{product.price}}</ion-badge></ion-label>
      <ion-radio [value]="{id:product.id,name:product.name+' - '+product.varian[0].value,photo:product.photo,price:product.price}"></ion-radio>
    </ion-item>
    <ion-item *ngFor="let c of product.childs">
      <ion-label>{{c.varian[0].value}} <ion-badge class="price-varian">Rp.{{c.price}}</ion-badge></ion-label>
      <ion-radio [value]="{id:c.id,name:c.name+' - '+c.varian[0].value,photo:c.photo,price:c.price}"></ion-radio>
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer>
  <ion-toolbar primary>
    <button light clear block (click)="addCart()"><ion-icon name="cart"></ion-icon>Tambah ke keranjang</button>
  </ion-toolbar>
</ion-footer>
